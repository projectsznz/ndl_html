<!DOCTYPE html>
<html lang="en">

<head>
    <title>Unwaste Network</title>
    <!-- HTML5 Shim and Respond.js IE10 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 10]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="#">
    <meta name="keywords"
        content="Admin , Responsive, Landing, Bootstrap, App, Template, Mobile, iOS, Android, apple, creative app">
    <meta name="author" content="#">
    <!-- Favicon icon -->
    <link rel="icon" href="..\..\files\assets\images\favicon.ico" type="image/x-icon">
    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,800" rel="stylesheet">
    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="..\..\files\bower_components\bootstrap\css\bootstrap.min.css">
    <!-- radial chart.css -->
    <link rel="stylesheet" href="..\..\files\assets\pages\chart\radial\css\radial.css" type="text/css" media="all">
    <!-- feather Awesome -->
    <link rel="stylesheet" type="text/css" href="..\..\files\assets\icon\feather\css\feather.css">
    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="..\..\files\assets\css\style.css">
    <link rel="stylesheet" type="text/css" href="..\..\files\assets\css\jquery.mCustomScrollbar.css">
    <link rel="stylesheet" type="text/css" href="../Css/Index.css">

    <link rel="stylesheet" href="..\files\bower_components\chartist\css\chartist.css" type="text/css" media="all">
</head>
<!-- Menu sidebar static layout -->

<body>
    <!-- Pre-loader start -->
    <div class="theme-loader">
        <div class="ball-scale">
            <div class='contain'>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- Pre-loader end -->
    <div id="pcoded" class="pcoded">
        <div class="pcoded-overlay-box"></div>
        <div class="pcoded-container navbar-wrapper">

            <nav class="navbar header-navbar pcoded-header">
                <div class="navbar-wrapper">

                    <div class="navbar-logo">
                        <a class="mobile-menu" id="mobile-collapse" href="#!">
                            <i class="feather icon-menu"></i>
                        </a>
                        <a href="">
                            <img class="img-fluid" src="../../files/assets/images/Logo-1.jpeg" alt="Theme-Logo">
                        </a>
                        <a class="mobile-options">
                            <i class="feather icon-more-horizontal"></i>
                        </a>
                    </div>

                    <div class="navbar-container container-fluid">
                        <ul class="nav-left">
                            <li class="header-search">
                                <div class="main-search morphsearch-search">
                                    <div class="input-group">
                                        <span class="input-group-addon search-close"><i
                                                class="feather icon-x"></i></span>
                                        <input type="text" class="form-control">
                                        <span class="input-group-addon search-btn"><i
                                                class="feather icon-search"></i></span>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <a href="#!" onclick="javascript:toggleFullScreen()">
                                    <i class="feather icon-maximize full-screen"></i>
                                </a>
                            </li>
                        </ul>
                        <ul class="nav-right">
                            <li class="user-profile header-notification">
                                <div class="dropdown-primary dropdown">
                                    <div class="dropdown-toggle" data-toggle="dropdown">
                                        <img src="..\..\files\assets\images\avatar-4.jpg" class="img-radius"
                                            alt="User-Profile-Image">
                                        <span id="user"></span>
                                        <i class="feather icon-chevron-down"></i>
                                    </div>
                                    <ul class="show-notification profile-notification dropdown-menu"
                                        data-dropdown-in="fadeIn" data-dropdown-out="fadeOut">
                                        
                                        <li>
                                            <a href="../auth-normal-sign-in.htm">
                                                <i class="feather icon-log-out"></i> Logout
                                            </a>
                                        </li>
                                    </ul>

                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>



            <div class="pcoded-main-container">
                <div class="pcoded-wrapper">
                    <nav class="pcoded-navbar">
                        <div class="pcoded-inner-navbar main-menu">
                    
                            <ul class="pcoded-item pcoded-left-item">
                                <li class=" ">
                                    <a href="../Dashboard/dashboard_Index.htm">
                                        <span class="pcoded-micon"><i class="feather icon-home"></i></span>
                                        <span class="pcoded-mtext">Dashboard</span>
                                    </a>
                                 
                                </li>
                                <li class="pcoded-hasmenu ">
                                    <a href="javascript:void(0)">
                                        <span class="pcoded-micon"><i class="fa fa-user" aria-hidden="true"></i></span>
                                        <span class="pcoded-mtext">Admin User</span>
                                    </a>
                                    <ul class="pcoded-submenu">
                                        <li class="">
                                            <a href="../Admin-user/Add-admin.htm">
                                                <span class="pcoded-mtext">New Admin</span>
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="../Admin-user/Admin-List.htm">
                                                <span class="pcoded-mtext">Admin List</span>
                                            </a>
                                        </li>
                    
                                    </ul>
                                </li>
                                <li class="pcoded-hasmenu ">
                                    <a href="javascript:void(0)">
                                        <span class="pcoded-micon"><i class="fa fa-user-times"></i></span>
                                        <span class="pcoded-mtext">Driver Management</span>
                                    </a>
                                    <ul class="pcoded-submenu">
                                        <li class="">
                                            <a href="../Driver-management/Add-Driver.htm">
                                                <span class="pcoded-mtext">New Driver</span>
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="../Driver-management/Driver-List.htm">
                                                <span class="pcoded-mtext">Driver List</span>
                                            </a>
                                        </li>
                    
                                    </ul>
                                </li>
                                <li class="pcoded-hasmenu">
                                    <a href="javascript:void(0)">
                                        <span class="pcoded-micon"><i class="fa fa-car"></i></span>
                                        <span class="pcoded-mtext">Vehicle Management</span>
                                   
                                    </a>
                                    <ul class="pcoded-submenu">
                                        <li class="">
                                            <a href="../Vehicle-management/Add-Vehicle.htm">
                                                <span class="pcoded-mtext">New Vehicle</span>
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="../Vehicle-management/Vehicle-List.htm">
                                                <span class="pcoded-mtext">Vehicle List</span>
                                            </a>
                                        </li>
                    
                                    </ul>
                                </li>
                                <li class="pcoded-hasmenu">
                                    <a href="javascript:void(0)">
                                        <span class="pcoded-micon"><i class="fa fa-building"></i></span>
                                        <span class="pcoded-mtext">Apartment Management </span>
                                    </a>
                                    <ul class="pcoded-submenu">
                                        <li class="">
                                            <a href="../Apartment-management/Add-Apartment.htm">
                                                <span class="pcoded-mtext">New Apartment</span>
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="../Apartment-management/Apartment-List.htm">
                                                <span class="pcoded-mtext">Apartment List</span>
                                            </a>
                                        </li>
                    
                                    </ul>
                    
                                </li>
                                <li class="pcoded-hasmenu">
                                    <a href="javascript:void(0)">
                                        <span class="pcoded-micon"><i class="feather icon-layers"></i></span>
                                        <span class="pcoded-mtext">Waste Management</span>
                        
                                    </a>
                                    <ul class="pcoded-submenu">
                                        <li class="">
                                            <a href="../Wastage-management/wastage-count.htm">
                                                <span class="pcoded-mtext">Wastage Count</span>
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="../Wastage-management/wastage-weighs.htm">
                                                <span class="pcoded-mtext">Wastage Weighs</span>
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="../Wastage-management/wastage-logs.htm">
                                                <span class="pcoded-mtext">Wastage Logs</span>
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="../Wastage-management/unload-point.htm">
                                                <span class="pcoded-mtext">Unload point master</span>
                                            </a>
                                        </li>
                    
                                    </ul>
                                </li>
                                <li class="pcoded-hasmenu">
                                    <a href="javascript:void(0)">
                                        <span class="pcoded-micon"><i class="fa fa-map-marker"></i></span>
                                        <span class="pcoded-mtext">Route Management </span>
                                    </a>
                                    <ul class="pcoded-submenu">
                                        <li class="">
                                            <a href="../Route-management/Route-master.html">
                                                <span class="pcoded-mtext">Route master</span>
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="../Route-management/Route-mapping.html">
                                                <span class="pcoded-mtext">Route mapping</span>
                                            </a>
                                        </li>
                                        <li class="">
                                            <a href="../Route-management/Route-assigning.html">
                                                <span class="pcoded-mtext">Route assigning</span>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                                <li class=" ">
                                    <a href="../Reports/Reports.htm">
                                        <span class="pcoded-micon"><i class="fa fa-signal"></i></span>
                                        <span class="pcoded-mtext">Report</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                    <div class="pcoded-content">
                        <div class="pcoded-inner-content">
                            <div class="main-body">
                                <div class="page-wrapper">
                                    <div class="page-body">
                                        <input type="hidden" id="finalApartmentDatas">
                                        <button class="form-control" onclick="generateCSV()">Download</button>



                                        <div class="row">

                                            <!-- statustic-card start -->
                                            <div class="col-xl-6 col-md-12">
                                                 
                                                
                                                <div class="card" style="overflow-x: scroll;">
                                                    <div class="card-header">
                                                        <div class="card-header-left ">
                                                            <h5>Apartment Wise Data</h5>
                                                            <span class="text-muted">Apartment wise data of
                                                                wastes</span>
                                                        </div>
                                                    </div>
                                                    <div class="card-block-big">

                                                        <div id="morris-bar-chart-apartment-wise" style="height:350px">
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6 col-md-12">
                                                <div class="card" style="overflow-x: scroll;">
                                                    <div class="card-header">
                                                        <div class="card-header-left ">
                                                            <h5>Date Wise Data</h5>
                                                            <span class="text-muted">Date wise data of wastes</span>
                                                        </div>
                                                    </div>
                                                    <div class="card-block-big">

                                                        <div id="morris-bar-chart-date-wise" style="height:350px"></div>

                                                    </div>
                                                </div>
                                            </div>
                                            <!-- statustic-card start -->

                                        </div>
                                        <div class="row">
                                            <div class="col-xl-12 col-md-12">
                                                <div class="card" style="overflow-x: scroll;">
                                                    <div class="card-header">
                                                        <div class="card-header-left ">
                                                            <h5>Wastes Wise Data</h5>
                                                            <span class="text-muted">Wastes wise data in chart</span>
                                                        </div>
                                                    </div>
                                                    <div class="card-block-big">

                                                        <div id="morris-bar-chart-wastes-wise" style="height:350px">
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="styleSelector">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>


    <!-- api -->
    <script type="text/javascript" src="..\..\files\assets\js\api-conditions.js"></script>
    <!-- Required Jquery -->
    <script type="text/javascript" src="..\..\files\bower_components\jquery\js\jquery.min.js"></script>
    <script type="text/javascript" src="..\..\files\bower_components\jquery-ui\js\jquery-ui.min.js"></script>
    <script type="text/javascript" src="..\..\files\bower_components\popper.js\js\popper.min.js"></script>
    <script type="text/javascript" src="..\..\files\bower_components\bootstrap\js\bootstrap.min.js"></script>
    <!-- jquery slimscroll js -->
    <script type="text/javascript"
        src="..\..\files\bower_components\jquery-slimscroll\js\jquery.slimscroll.js"></script>
    <!-- modernizr js -->
    <script type="text/javascript" src="..\..\files\bower_components\modernizr\js\modernizr.js"></script>
    <script type="text/javascript" src="..\..\files\bower_components\modernizr\js\css-scrollbars.js"></script>
    <!-- Chart js -->
    <script type="text/javascript" src="..\..\files\bower_components\chart.js\js\Chart.js"></script>
    <!-- Chartlist charts -->
    <script src="..\..\files\bower_components\chartist\js\chartist.js"></script>
    <script src="..\..\files\assets\pages\chart\chartlist\js\chartist-plugin-threshold.js"></script>
    <script src="..\..\files\bower_components\raphael\js\raphael.min.js"></script>
    <script src="..\..\files\bower_components\morris.js\js\morris.js"></script>
    <script src="..\..\files\assets\pages\chart\morris\morris-custom-chart.js"></script>
    <!-- Google map js -->
    <script
        src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
    <script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript" src="..\..\files\assets\pages\google-maps\gmaps.js"></script>
    <!-- gauge js -->
    <script src="..\..\files\assets\pages\widget\gauge\gauge.min.js"></script>
    <script src="..\..\files\assets\pages\widget\amchart\amcharts.js"></script>
    <script src="..\..\files\assets\pages\widget\amchart\serial.js"></script>
    <script src="..\..\files\assets\pages\widget\amchart\gauge.js"></script>
    <script src="..\..\files\assets\pages\widget\amchart\pie.js"></script>
    <script src="..\..\files\assets\pages\widget\amchart\light.js"></script>
    <!-- Custom js -->
    <script src='../js/icon.js'></script>
    <script src="..\..\files\assets\js\pcoded.min.js"></script>
    <script src="..\..\files\assets\js\vartical-layout.min.js"></script>
    <script src="..\..\files\assets\js\jquery.mCustomScrollbar.concat.min.js"></script>
    <script type="text/javascript" src="..\..\files\assets\pages\dashboard\crm-dashboard.min.js"></script>

    <script type="text/javascript" src="..\..\files\assets\js\script.js"></script>


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
    <script>
        function generateCSV() {

                 //Date Wise chart starts
        var formdataDateWise = new FormData();
        formdataDateWise.append("formdate", "2022-03-01");
        formdataDateWise.append("todate", "2029-04-20");
        //Fetch Data into table
        var requestOptionsDateWise = {
            method: 'POST',
            headers: myHeaders,
            body: formdataDateWise,
            redirect: 'follow'
        };

        fetch("http://assistlysolutions.com/ndl/api/reports/date-wise-report", requestOptionsDateWise)
            .then(response => response.json())
            .then(result => {
                console.log('resoult', result)
                let fetchData = result.data.data;
                // fetchData = [...fetchData, {apartment_id: 1, apartment_name: 'Neo Nestle', wastage_count: '89.00' }, ]
                // {date: '2023-04-13', name: 'Hazardous', count: '9.00' },{date: '2023-04-17', name: 'Wet', count: '5.00' }]
                var dateWiseData = groupBy(fetchData, 'date');
                console.log('dateWiseData', dateWiseData)
                const finalDateWiseData = [];
                const finalApartmentData1 = [];
                for (key in dateWiseData) {
                    let count = 0
                    if (dateWiseData.hasOwnProperty(key)) {
                        var tempDateWiseData = {}
                        dateWiseData[key].map((data) => {
                            tempDateWiseData['date'] = data['date'];
                            count = count + Number(data['wastage_weight'])
                            tempDateWiseData['wastage_weight'] = count
                            finalApartmentData1.push(data);
                        })
                    }
                    console.log('finalDateWise', tempDateWiseData)
                    finalDateWiseData.push(tempDateWiseData);
                }
                // $('#finalApartmentDatas').val(JSON.stringify(finalApartmentData1));
                // var data = $('#finalApartmentDatas').val();
            JSONToCSVConvertor(JSON.stringify(finalApartmentData1), "Report", true);
            })
            .catch(error => console.log('error', error));
            
        }

        function JSONToCSVConvertor(JSONData, ReportTitle, ShowLabel) {
  //If JSONData is not an object then JSON.parse will parse the JSON string in an Object
  var arrData = typeof JSONData != 'object' ? JSON.parse(JSONData) : JSONData;

  var CSV = '';
  //Set Report title in first row or line

  CSV += ReportTitle + '\r\n\n';

  //This condition will generate the Label/Header
  if (ShowLabel) {
    var row = "";

    //This loop will extract the label from 1st index of on array
    for (var index in arrData[0]) {

      //Now convert each value to string and comma-seprated
      row += index + ',';
    }

    row = row.slice(0, -1);

    //append Label row with line break
    CSV += row + '\r\n';
  }

  //1st loop is to extract each row
  for (var i = 0; i < arrData.length; i++) {
    var row = "";

    //2nd loop will extract each column and convert it in string comma-seprated
    for (var index in arrData[i]) {
      row += '"' + arrData[i][index] + '",';
    }

    row.slice(0, row.length - 1);

    //add a line break after each row
    CSV += row + '\r\n';
  }

  if (CSV == '') {
    alert("Invalid data");
    return;
  }

  //Generate a file name
  var fileName = "My_";
  //this will remove the blank-spaces from the title and replace it with an underscore
  fileName += ReportTitle.replace(/ /g, "_");

  //Initialize file format you want csv or xls
  var uri = 'data:text/csv;charset=utf-8,' + escape(CSV);

  // Now the little tricky part.
  // you can use either>> window.open(uri);
  // but this will not work in some browsers
  // or you will not get the correct file extension    

  //this trick will generate a temp <a /> tag
  var link = document.createElement("a");
  link.href = uri;

  //set the visibility hidden so it will not effect on your web-layout
  link.style = "visibility:hidden";
  link.download = fileName + ".csv";

  //this part will append the anchor tag and remove it after automatic click
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}

    </script>
    <script>
        var myHeaders = new Headers();
        let token = loginCheck().data.token
        myHeaders.append("Authorization", `Bearer   ${token}`);
        var formdataApartmentWise = new FormData();
        formdataApartmentWise.append("apartment_id", 0);
        //Fetch Data into table
        var requestOptionsApartmentWise = {
            method: 'POST',
            headers: myHeaders,
            body: formdataApartmentWise,
            redirect: 'follow'
        };

        function groupBy(objectArray, property) {
            return objectArray.reduce(function (acc, obj) {
                var key = obj[property];
                if (!acc[key]) {
                    acc[key] = [];
                }
                acc[key].push(obj);
                return acc;
            }, {});
        }


        fetch("http://assistlysolutions.com/ndl/api/reports/apartment-wise", requestOptionsApartmentWise)
            .then(response => response.json())
            .then(result => {
                console.log('resoult', result)
                let fetchApartmentData = result.data.data;
                fetchApartmentData = [...fetchApartmentData, { apartment_id: 1, apartment_name: 'Neo Nestle', wastage_count: '89.00' },]
                // {date: '2023-04-13', name: 'Hazardous', count: '9.00' },{date: '2023-04-17', name: 'Wet', count: '5.00' }]
                var apartmentWiseData = groupBy(fetchApartmentData, 'apartment_name');
                console.log('apartmentWiseData', apartmentWiseData.null)
                const finalApartmentData = [];
                for (key in apartmentWiseData) {
                    let count = 0
                    var tempApartmentData1 = {}
                    if (apartmentWiseData.hasOwnProperty(key)) {
                        var tempApartmentData = {}
                        
                        apartmentWiseData[key].map((data) => {
                            tempApartmentData['apartment_name'] = data['apartment_name'];
                            tempApartmentData1['apartment_name'] = data;
                            count = count + Number(data['wastage_count'])
                            tempApartmentData['wastage_count'] = count
                           
                        })
                        
                    }
                    console.log('fina', tempApartmentData)
                    finalApartmentData.push(tempApartmentData);
                    
                }

                Morris.Bar({
                    element: 'morris-bar-chart-apartment-wise',
                    data: finalApartmentData,
                    xkey: 'apartment_name',
                    ykeys: ['wastage_count'],
                    labels: ['Wastage_count'],
                    barColors: ['#5FBEAA'],
                    hideHover: 'auto',
                    gridLineColor: '#eef0f2',
                    resize: true
                });

            })
            .catch(error => console.log('error', error));
        

            //Date Wise chart starts
        var formdataDateWise = new FormData();
        formdataDateWise.append("formdate", "2023-03-01");
        formdataDateWise.append("todate", "2029-04-20");
        //Fetch Data into table
        var requestOptionsDateWise = {
            method: 'POST',
            headers: myHeaders,
            body: formdataDateWise,
            redirect: 'follow'
        };

        fetch("http://assistlysolutions.com/ndl/api/reports/date-wise", requestOptionsDateWise)
            .then(response => response.json())
            .then(result => {
                console.log('resoult', result)
                let fetchData = result.data.data;
                // fetchData = [...fetchData, {apartment_id: 1, apartment_name: 'Neo Nestle', wastage_count: '89.00' }, ]
                // {date: '2023-04-13', name: 'Hazardous', count: '9.00' },{date: '2023-04-17', name: 'Wet', count: '5.00' }]
                var dateWiseData = groupBy(fetchData, 'date');
                console.log('dateWiseData', dateWiseData)
                const finalDateWiseData = [];
                for (key in dateWiseData) {
                    let count = 0
                    if (dateWiseData.hasOwnProperty(key)) {
                        var tempDateWiseData = {}
                        dateWiseData[key].map((data) => {
                            tempDateWiseData['date'] = data['date'];
                            count = count + Number(data['wastage_weight'])
                            tempDateWiseData['wastage_weight'] = count
                            
                        })
                    }
                    console.log('finalDateWise', tempDateWiseData)
                    finalDateWiseData.push(tempDateWiseData);
                }
                
                Morris.Bar({
                    element: 'morris-bar-chart-date-wise',
                    data: finalDateWiseData,
                    xkey: 'date',
                    ykeys: ['wastage_weight'],
                    labels: ['Wastage_weight'],
                    barColors: ['#5FBEAA'],
                    hideHover: 'auto',
                    gridLineColor: '#eef0f2',
                    resize: true
                });

            })
            .catch(error => console.log('error', error));
            //Date Wise chart ends


            //Waste Wise chart starts
            var formdataWasteWise = new FormData();
        formdataWasteWise.append("wastage_type", "0")
        //Fetch Data into table
        var requestOptionsWasteWise = {
            method: 'POST',
            headers: myHeaders,
            body: formdataWasteWise,
            redirect: 'follow'
        };

        fetch("http://assistlysolutions.com/ndl/api/reports/wastage-type-wise", requestOptionsWasteWise)
            .then(response => response.json())
            .then(result => {
                console.log('resoult', result)
                let fetchData = result.data.data;
                var wasteWiseData = groupBy(fetchData, 'wastage_type_name');
                console.log('dateWiseData', wasteWiseData)
                const finalWasteWiseData = [];
                for (key in wasteWiseData) {
                    let count = 0
                    if (wasteWiseData.hasOwnProperty(key)) {
                        var tempWasteWiseData = {}
                        wasteWiseData[key].map((data) => {
                            tempWasteWiseData['date'] = data['date'];
                            count = count + Number(data['wastage_weight'])
                            tempWasteWiseData['wastage_weight'] = count
                            
                        })
                    }
                    console.log('finalWasteWise', tempWasteWiseData)
                    finalWasteWiseData.push(tempWasteWiseData);
                }

                Morris.Bar({
                    element: 'morris-bar-chart-wastes-wise',
                    data: finalWasteWiseData,
                    xkey: 'date',
                    ykeys: ['wastage_weight'],
                    labels: ['Wastage_weight'],
                    barColors: ['#5FBEAA'],
                    hideHover: 'auto',
                    gridLineColor: '#eef0f2',
                    resize: true
                });

            })
            .catch(error => console.log('error', error));
            //Waste Wise chart ends
    </script>
    <script>
        $(function () {
            $('#sidebar').load('../sidebar/sidebar.html')
        })
    </script>

    <script>
        let profile = loginCheck()
        console.log(profile)
        document.getElementById('user').innerHTML = profile.data.name
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-23581568-13');
    </script>
</body>

</html>